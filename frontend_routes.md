## 0. çº¦å®šä¸è¯´æ˜?

### 0.1 è§’è‰²æšä¸¾
- publicï¼šæœªç™»å½•
- studentï¼šå­¦ç”?
- teacherï¼šæ•™å¸?
- adminï¼šç®¡ç†å‘˜
- authedï¼šä»»æ„å·²ç™»å½•ç”¨æˆ·ï¼ˆstudent/teacher/adminï¼?

### 0.2 è·¯ç”±å®ˆå«çº¦å®š
- requireAuth=trueï¼?
  - æ—?token â†?å¼ºåˆ¶è·³è½¬ /login
- å·²ç™»å½•è®¿é—?/loginï¼?
  - è‡ªåŠ¨è·³è½¬ /dashboard
- é¡µé¢åˆ·æ–°ï¼?
  - è‹¥å­˜åœ?tokenï¼Œè‡ªåŠ¨è°ƒç”?/api/users/me åˆå§‹åŒ–ç”¨æˆ·çŠ¶æ€?
- 401ï¼?
  - axios æ‹¦æˆªï¼Œæ¸… tokenï¼Œè·³è½?/login

### 0.3 é˜¶æ®µå½’å±
- æ¯æ¡è·¯ç”±æ ‡æ³¨æ‰€å±é˜¶æ®µï¼ˆF0â€“F9ï¼‰ï¼Œç”¨äºæŒ‰è®¡åˆ’æ¨è¿›é€æ­¥è½åœ°é¡µé¢

---

## 1. å…¬å…±å…¥å£è·¯ç”±ï¼ˆPublicï¼?

| Route Name          | Path               | requireAuth | Roles  | Phase | é¡µé¢/ç”¨é€?     | å¤‡æ³¨                                   |
| ------------------- | ------------------ | ----------: | ------ | ----- | -------------- | -------------------------------------- |
| Login               | `/login`           |       false | public | F1    | ç™»å½•é¡?        | ç™»å½•æˆåŠŸåæŒ‰ role è·³è½¬åˆ°å¯¹åº?Dashboard |
| Register (optional) | `/register`        |       false | public | F1    | æ³¨å†Œé¡µï¼ˆå¯é€‰ï¼‰ | è‹¥åç«¯æœªæä¾›æ³¨å†Œåˆ™ä¿ç•™å ä½æˆ–ç§»é™¤       |
| NotFound            | `/:pathMatch(.*)*` |       false | public | F0    | 404            | ç»Ÿä¸€å…œåº•                               |

---

## 2. åº”ç”¨å£³ä¸é€šç”¨è·¯ç”±ï¼ˆAuthedï¼?

| Route Name                  | Path                 | requireAuth | Roles   | Phase | é¡µé¢/ç”¨é€?         | å¤‡æ³¨                                                         |
| --------------------------- | -------------------- | ----------: | ------- | ----- | ------------------ | ------------------------------------------------------------ |
| Root                        | `/`                  |        true | authed  | F0    | Layout å®¹å™¨        | è¿›å…¥åé‡å®šå‘è‡?/dashboard                                    |
| DashboardRedirect           | `/dashboard`         |        true | authed  | F1    | è§’è‰²é¦–é¡µè·³è½¬       | æ ¹æ® role é‡å®šå‘è‡³å­è·¯ç”?                                    |
| StudentDashboard            | `/dashboard/student` |        true | student | F1/F2 | å­¦ç”Ÿé¦–é¡µå ä½é¡?    | F1ï¼šå®Œæˆç™»å½•åæŒ‰è§’è‰²è·³è½¬ä¸é‰´æƒéªŒè¯ï¼?br/>F2ï¼šå®Œæˆ?Notion é£æ ¼å¸ƒå±€éª¨æ¶ï¼ˆcp-page / cp-grid / cp-cardï¼‰ï¼Œé¡µé¢ä¸ºç»“æ„å ä½ã€?|
| TeacherDashboard            | `/dashboard/teacher` |        true | teacher | F2    | æ•™å¸ˆé¦–é¡µå ä½é¡?    | ä¸?StudentDashboard å…±ç”¨å¸ƒå±€éª¨æ¶ï¼›é¡µé¢å†…å®¹åç»­è¡¥é½?          |
| AdminDashboard              | `/dashboard/admin`   |        true | admin   | F2    | ç®¡ç†å‘˜é¦–é¡µå ä½é¡µ   | ä¸?StudentDashboard å…±ç”¨å¸ƒå±€éª¨æ¶ï¼›é¡µé¢å†…å®¹åç»­è¡¥é½?          |
| Profile                     | `/me/profile`        |        true | authed  | F2    | ä¸ªäººä¿¡æ¯           | é¡µé¢éª¨æ¶å®Œæˆï¼ˆcp-page / cp-cardï¼‰ï¼›ä¸šåŠ¡å­—æ®µä¸æ¥å£åœ¨åç»­é˜¶æ®µæ¥å…¥ |
| MySkills                    | `/me/skills`         |        true | student | F2    | æˆ‘çš„æŠ€èƒ½ç”»åƒ?      | é¡µé¢ç»“æ„å·²è§„åˆ’ï¼›åŠŸèƒ½å®ç°å¯¹é½åç«¯ M1ï¼Œåœ¨åç»­ F2 å­é˜¶æ®µå®Œæˆ?   |
| AdminSkillManage (optional) | `/admin/skills`      |        true | admin   | F2    | æŠ€èƒ½åº“ç®¡ç†ï¼ˆå¯é€‰ï¼‰ | æ˜¯å¦å®ç°å–å†³äºåç«¯èƒ½åŠ›ï¼›å½“å‰ä»…ä½œä¸ºè·¯ç”±ä¸èœå•å ä½             |

> å½“å‰ student/teacher/admin å­è·¯ç”±å·²å»ºï¼›ä»?student å·²å®Œæˆè¿è¡Œæ€éªŒè¯ï¼Œteacher/admin ä¸ºå ä½é¡µã€?
>
> F2 é˜¶æ®µ
>
> - â€œå®Œæˆâ€å®šä¹‰ä¸ºï¼?*è·¯ç”±å­˜åœ¨ + Layout æ­£å¸¸ + é¡µé¢éª¨æ¶ä¸æ ·å¼åŸºç¡€æˆç«‹**ï¼Œä¸ç­‰åŒäºâ€œä¸šåŠ¡åŠŸèƒ½å®Œæˆâ€?
> - F2 é˜¶æ®µè¯´æ˜ï¼?
>   - F2 èšç„¦â€œå‰ç«¯é¡µé¢ç»“æ„ä¸æ ·å¼åŸºç¡€â€ï¼Œä¸è¿½æ±‚ä¸šåŠ¡åŠŸèƒ½å®Œæ•?
>   - æ‰€æœ?F2 é¡µé¢å‡ç»Ÿä¸€é‡‡ç”¨ Notion é£æ ¼å¸ƒå±€éª¨æ¶ï¼ˆcp-page / cp-grid / cp-cardï¼?
>   - å…·ä½“å­—æ®µå±•ç¤ºã€æ¥å£è”è°ƒä¸äº¤äº’é€»è¾‘åœ¨åç»­å¯¹åº”åŠŸèƒ½é˜¶æ®µè¡¥é½?

---

## 3. ç«èµ›ç›¸å…³ï¼ˆAuthedï¼?

### 3.1 ç«èµ›åˆ—è¡¨/æ£€ç´?è¯¦æƒ…ï¼ˆF3ï¼?
| Route Name        | Path                           | requireAuth | Roles  | Phase | é¡µé¢/ç”¨é€?           | å¤‡æ³¨                                     |
| ----------------- | ------------------------------ | ----------: | ------ | ----- | -------------------- | ---------------------------------------- |
| CompetitionList   | `/competitions`                |        true | authed | F3    | ç«èµ›åˆ—è¡¨ + æ£€ç´?ç­›é€?| æ”¯æŒå…³é”®è¯ã€çŠ¶æ€ç­›é€‰ã€åˆ†é¡µï¼ˆè‹¥åç«¯æ”¯æŒï¼‰ |
| CompetitionDetail | `/competitions/:competitionId` |        true | authed | F3    | ç«èµ›è¯¦æƒ…             | å±•ç¤ºè¯¦æƒ…ã€æŠ¥åå…¥å£ã€æ•™å¸ˆç»„å…¥å£ç­?        |

### 3.2 æ¨èå±•ç¤ºï¼ˆF9ï¼?
> æ¨èå¯åšæˆç‹¬ç«‹é¡µï¼Œæˆ–ä½œä¸º competitions é¡µçš„ä¸€ä¸?tab/å¼€å…³ã€‚è¿™é‡Œç»™ç‹¬ç«‹é¡µï¼Œæ–¹ä¾¿ä½œä¸ºäº®ç‚¹å±•ç¤ºã€?

| Route Name           | Path                            | requireAuth | Roles   | Phase | é¡µé¢/ç”¨é€? | å¤‡æ³¨                                                |
| -------------------- | ------------------------------- | ----------: | ------- | ----- | ---------- | --------------------------------------------------- |
| CompetitionRecommend | `/recommendations/competitions` |        true | student | F9    | ç«èµ›æ¨èé¡?| ä¸æ£€ç´¢äº’æ–¥è§„åˆ™åœ¨é¡µé¢å±‚å¤„ç†ï¼ˆæœ‰æ¡ä»¶æ—¶æç¤º/å…³é—­æ¨èï¼?|

---

## 4. æ•™å¸ˆç”³è¯·ä¸å®¡æ ¸ï¼ˆå¯¹é½åç«¯ M3ï¼?

### 4.1 æ•™å¸ˆç«¯ï¼šæäº¤ç”³è¯·ï¼ˆF4ï¼?
| Route Name         | Path                                         | requireAuth | Roles   | Phase | é¡µé¢/ç”¨é€?       | å¤‡æ³¨                                      |
| ------------------ | -------------------------------------------- | ----------: | ------- | ----- | ---------------- | ----------------------------------------- |
| TeacherApplyList   | `/teacher/applications`                      |        true | teacher | F4    | ÎÒµÄ½ÌÊ¦ÉêÇëÁĞ±í | Õ¹Ê¾ÉêÇë×´Ì¬£¨PENDING/APPROVED/REJECTED£©£»¾ºÈüÏêÇéÒ³Ö§³ÖÌá½»ÉêÇë | | Sidebar entry available via active layout sidebar (teacher only).
| TeacherApplyCreate | `/competitions/:competitionId/teacher-apply` |        true | teacher | F4    | Ìá½»½ÌÊ¦ÉêÇë     | Èë¿ÚÀ´×Ô¾ºÈüÏêÇé£»Ç°¶ËÌáÊ¾²»¿ÉÉêÇëÔ­Òò£»ºó¶ËÇ¿ÖÆĞ£Ñé |

### 4.2 ç®¡ç†å‘˜ç«¯ï¼šå®¡æ ¸æ•™å¸ˆç”³è¯·ï¼ˆF4ï¼?
| Route Name               | Path                          | requireAuth | Roles | Phase | é¡µé¢/ç”¨é€?   | å¤‡æ³¨                 |
| ------------------------ | ----------------------------- | ----------: | ----- | ----- | ------------ | -------------------- |
| AdminTeacherApplications | `/admin/teacher-applications` |        true | admin | F4    | ½ÌÊ¦ÉêÇëÉóºË | ÁĞ±í + ÉóºËÍ¨¹ı/¾Ü¾ø£¨¶¯×÷ÒÑ½ÓÈë£©£»²à±ßÀ¸Èë¿ÚÒÑÍê³É | | Sidebar entry available via active layout sidebar (admin only).

---

## 5. å­¦ç”ŸæŠ¥åç”³è¯·ä¸æ•™å¸ˆå®¡æ ¸å…¥é˜Ÿï¼ˆå¯¹é½åç«¯ M4ï¼?

### 5.1 å­¦ç”Ÿç«¯ï¼ˆF5ï¼?
| Route Name           | Path                     | requireAuth | Roles   | Phase | é¡µé¢/ç”¨é€?       | å¤‡æ³¨                          |
| -------------------- | ------------------------ | ----------: | ------- | ----- | ---------------- | ----------------------------- |
| StudentJoinRequests  | `/student/join-requests` |        true | student | F5    | æˆ‘çš„æŠ¥åç”³è¯·     | æŸ¥çœ‹ç”³è¯·çŠ¶æ€ä¸ç»“æœ            |
| StudentTeamHome      | `/my/team`               |        true | student | F5/F6 | æˆ‘çš„ç»„ï¼ˆå­¦ç”Ÿï¼?  | è‹¥æœªå…¥é˜Ÿæ˜¾ç¤ºç©ºæ€ä¸æŒ‡å¼•        |
| StudentApplyJoinTeam | `/teams/:teamId/join`    |        true | student | F5    | ç”³è¯·åŠ å…¥æŸæ•™å¸ˆç»„ | é€šå¸¸ä»ç«èµ›è¯¦æƒ?æ•™å¸ˆç»„åˆ—è¡¨è¿›å…?|

### 5.2 æ•™å¸ˆç«¯ï¼ˆF5ï¼?
| Route Name           | Path                     | requireAuth | Roles   | Phase | é¡µé¢/ç”¨é€?     | å¤‡æ³¨               |
| -------------------- | ------------------------ | ----------: | ------- | ----- | -------------- | ------------------ |
| TeacherTeamHome      | `/teacher/my-team`       |        true | teacher | F5/F6 | æˆ‘çš„ç»„ï¼ˆæ•™å¸ˆï¼?| å±•ç¤ºé˜Ÿä¼ä¿¡æ¯ä¸æˆå‘?|
| TeacherJoinApprovals | `/teacher/join-requests` |        true | teacher | F5    | å…¥é˜Ÿç”³è¯·å®¡æ ¸   | åˆ—è¡¨ + é€šè¿‡/æ‹’ç»   |

---

## 6. ç»„é˜Ÿæ§åˆ¶ä¸æˆå‘˜å¯è§æ€§ï¼ˆå¯¹é½åç«¯ M5ï¼?

| Route Name            | Path                     | requireAuth | Roles         | Phase | é¡µé¢/ç”¨é€?| å¤‡æ³¨                                           |
| --------------------- | ------------------------ | ----------: | ------------- | ----- | --------- | ---------------------------------------------- |
| TeamDetail            | `/teams/:teamId`         |        true | authed        | F6    | é˜Ÿä¼è¯¦æƒ…  | åç«¯å†³å®šå¯è§èŒƒå›´ï¼›å‰ç«¯æŒ‰ 403 æç¤º              |
| TeamMembers           | `/teams/:teamId/members` |        true | authed        | F6    | æˆå‘˜åˆ—è¡¨  | æƒé™ç”±åç«¯è£å†³ï¼›æ•™å¸ˆ/ç®¡ç†å‘˜å¯è§æ›´å¤šæ“ä½?       |
| TeamManage (optional) | `/teams/:teamId/manage`  |        true | teacher,admin | F6    | é˜Ÿä¼ç®¡ç†  | å…³é—­ç»„é˜Ÿã€ç§»é™¤æˆå‘˜ç­‰å…¥å£ä¹Ÿå¯æ”¾åœ¨ TeamDetail å†?|

---

## 7. ç»„å†…è®¨è®ºåŒºï¼ˆå¯¹é½åç«¯ M6ï¼?

| Route Name     | Path                           | requireAuth | Roles  | Phase | é¡µé¢/ç”¨é€?    | å¤‡æ³¨                         |
| -------------- | ------------------------------ | ----------: | ------ | ----- | ------------- | ---------------------------- |
| TeamPosts      | `/teams/:teamId/posts`         |        true | authed | F7    | è®¨è®ºåŒºåˆ—è¡?   | å‘å¸–ã€åˆ†é¡µï¼ˆå¯é€‰ï¼‰           |
| TeamPostDetail | `/teams/:teamId/posts/:postId` |        true | authed | F7    | å¸–å­è¯¦æƒ…/å›å¤ | å›å¤ã€åˆ é™¤ï¼ˆæƒé™ç”±åç«¯è£å†³ï¼‰ |

---

## 8. æ–‡ä»¶æäº¤ï¼ˆå¯¹é½åç«?M7ï¼?

| Route Name      | Path                         | requireAuth | Roles  | Phase | é¡µé¢/ç”¨é€?     | å¤‡æ³¨                                  |
| --------------- | ---------------------------- | ----------: | ------ | ----- | -------------- | ------------------------------------- |
| TeamSubmissions | `/teams/:teamId/submissions` |        true | authed | F8    | æ–‡ä»¶æäº¤ä¸å†å?| ä¸Šä¼  + å¤‡æ³¨ + å†å²åˆ—è¡¨ + current æ ‡è¯† |

---

## 9. ç®¡ç†å‘˜è¾…åŠ©å…¥å£ï¼ˆå¯é€‰ï¼‰

| Route Name                   | Path                  | requireAuth | Roles | Phase | é¡µé¢/ç”¨é€?   | å¤‡æ³¨                                           |
| ---------------------------- | --------------------- | ----------: | ----- | ----- | ------------ | ---------------------------------------------- |
| AdminTeams (optional)        | `/admin/teams`        |        true | admin | F6    | é˜Ÿä¼æ€»è§ˆ     | è‹¥åç«¯æ— æ­¤æ¥å£å¯ä¸å®ç?                        |
| AdminCompetitions (optional) | `/admin/competitions` |        true | admin | F3    | ç«èµ›ç®¡ç†å…¥å£ | è‹¥åç«¯ç«èµ›ç®¡ç†å®Œå…¨åœ¨åç«¯/DB ä¾§ï¼Œä¹Ÿå¯åªä¿ç•™æŸ¥çœ?|

---

## 10. å¯¼èˆªèœå•å»ºè®®ï¼ˆéå¼ºåˆ¶ï¼Œä»…ä½œä¸ºé”šç‚¹ï¼?

### Student èœå•
- ç«èµ›åˆ—è¡¨ `/competitions`
- æ¨èç«èµ› `/recommendations/competitions`
- æˆ‘çš„ç”³è¯· `/student/join-requests`
- æˆ‘çš„ç»?`/my/team`
- ä¸ªäººä¸­å¿ƒ `/me/profile`
- æˆ‘çš„æŠ€èƒ?`/me/skills`

### Teacher èœå•
- ç«èµ›åˆ—è¡¨ `/competitions`
- æˆ‘çš„æ•™å¸ˆç”³è¯· `/teacher/applications`
- å…¥é˜Ÿå®¡æ ¸ `/teacher/join-requests`
- æˆ‘çš„ç»?`/teacher/my-team`
- ä¸ªäººä¸­å¿ƒ `/me/profile`

### Admin èœå•
- ç«èµ›åˆ—è¡¨ `/competitions`
- æ•™å¸ˆç”³è¯·å®¡æ ¸ `/admin/teacher-applications`
- ï¼ˆå¯é€‰ï¼‰æŠ€èƒ½åº“ç®¡ç† `/admin/skills`


